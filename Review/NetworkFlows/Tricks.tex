\section{技巧总结}
\subsection{最大流}
\begin{itemize}
    \item 若一个点只能被经过有限次，将其拆为入点和出点，入点到出点连流量为经过次数限制的边。
    \item 树形最大流可以贪心解决。
    \item 将大于等于限制转化为恰好等于限制，由于最大流解决的限制是小于等于，当其满流时恰好
    有解。
    \item 构图使得满流时的解就是合法解。
    \item 网格图若只需考虑相邻格子的影响，考虑黑白染色，然后建图
	$S\rightarrow B\rightarrow W\rightarrow T$。
\end{itemize}
\subsection{最小割}
\begin{itemize}
    \item 最大化收益可以理解为已经拿到所有收益，最小化损失。然后将其转化为最小割解决。
    \item 使用$+\infty$边描述依赖关系，可以保证这条边不出现在最小割中。
    \item 用$S,T$与点的连边来表示点的权。
\end{itemize}
\subsection{费用流}
\begin{itemize}
    \item 要求费用最小且边数最小：类比进制的思想，实际费用乘以一个大于总边数的因子，再加上
    1作为该边边权。
    \item 若已知走一条边之前必定已经走完了另外几条边，则考虑动态加边。
    \item 对于层数较少，结构简单的图，考虑使用其它数据结构贪心模拟费用流。
    {\bfseries 注意还要模拟退流（即反悔）。}
    \item （待验证）判断一条边是否一定被选：在残量网络上跑SPFA，若距离差不等于边权则必选。
    \item 餐巾计划问题：一条脏餐巾被传递多次只能代表1的流量，会误导MCMF。考虑修改建图方式：
    一条餐巾被使用一次必须要直接从S流到T，脏餐巾只能从S重新流出，由于每天会使用r条餐巾，再从
    S免费补偿r条餐巾到表示当天将重复使用的脏餐巾的点（这一步尤为关键，注意题目是否有这个性质）。
    简单地说，就是如果要一个物品经过一条路径需要消耗大于1的流量时，必须把每一段都拆成S-T的路径。

    \CJKsout{2019.3.5：为什么我在LOJ上的餐巾计划和Luogu上的星际竞速代码都是rank2啊。。。}
    \item 「雅礼集训 2018 Day8」B 乱搞：贪心策略是每次选取最长的路径优化，那么需要将时间
    当做费用，每次优化都选取路径上的费用最小值，将其当做流量限制。剩下部分的证明留坑待补。
    \index{*TODO!雅礼集训2018Day8B的乱搞做法证明}
    \item Codeforces739E Gosha is hunting：两种精灵球混合使用会多计算$p_iu_i$的期望，
    由于网络流并不支持流量缩放的功能，只能考虑最后减去这个值。那么精灵连两条边到汇点，一条
    费用为0，另一条为$-p_iu_i$。只使用一个精灵球时，MCMF将贪心选择费用为0的边。
    简单地说，用流量和费用+贪心性质诱导MCMF。
    \item SNOI2019通信：$O(n^2)$连边过多，可以考虑分治连边，按照点值添加新点，然后让差值在
    新点连起来的链上累积，边数$O(n\lg n)$。关键字：可累加的代价（距离绝对值）
\end{itemize}

上述内容参考了胡伯涛的2007年国家集训队论文《最小割模型在信息学竞赛中的应用》
\cite{MCIOI}和租酥雨的博客\footnote{
    网络流总结
    \url{https://www.cnblogs.com/zhoushuyu/p/8137534.html}
}。
